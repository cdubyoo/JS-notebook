{"ast":null,"code":"import { ActionType } from '../action-types';\nlet timer;\nexport const bundlerMiddleware = ({\n  getState\n}) => next => action => {\n  next(action);\n\n  if (action.type !== ActionType.UPDATE_CELL) {\n    return;\n  }\n\n  const {\n    cells: {\n      data: cellData\n    }\n  } = getState();\n  const cell = cellData[action.payload.id];\n\n  if (cell.type === 'text') {\n    return;\n  }\n\n  clearTimeout(timer);\n  timer = setTimeout(() => {\n    console.log('timer expired');\n  }, 750);\n};","map":{"version":3,"sources":["C:/Users/User/Desktop/jbook/src/state/middlewares/bundler-middleware.ts"],"names":["ActionType","timer","bundlerMiddleware","getState","next","action","type","UPDATE_CELL","cells","data","cellData","cell","payload","id","clearTimeout","setTimeout","console","log"],"mappings":"AACA,SAASA,UAAT,QAA2B,iBAA3B;AAEA,IAAIC,KAAJ;AACA,OAAO,MAAMC,iBAA6B,GAAG,CAAC;AAAEC,EAAAA;AAAF,CAAD,KAAmBC,IAAD,IAC/DC,MADyE,IAC9D;AACPD,EAAAA,IAAI,CAACC,MAAD,CAAJ;;AAEA,MAAIA,MAAM,CAACC,IAAP,KAAgBN,UAAU,CAACO,WAA/B,EAA4C;AACxC;AACH;;AACD,QAAM;AAAEC,IAAAA,KAAK,EAAE;AAAEC,MAAAA,IAAI,EAAEC;AAAR;AAAT,MAAgCP,QAAQ,EAA9C;AACA,QAAMQ,IAAI,GAAGD,QAAQ,CAACL,MAAM,CAACO,OAAP,CAAeC,EAAhB,CAArB;;AAEA,MAAIF,IAAI,CAACL,IAAL,KAAc,MAAlB,EAA0B;AACtB;AACH;;AACDQ,EAAAA,YAAY,CAACb,KAAD,CAAZ;AACAA,EAAAA,KAAK,GAAGc,UAAU,CAAC,MAAM;AACrBC,IAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ;AACH,GAFiB,EAEf,GAFe,CAAlB;AAGH,CAjBM","sourcesContent":["import { Middleware } from './middleware'\r\nimport { ActionType } from '../action-types'\r\n\r\nlet timer: any\r\nexport const bundlerMiddleware: Middleware = ({ getState }) => (next) => (\r\naction) => {\r\n    next(action)\r\n\r\n    if (action.type !== ActionType.UPDATE_CELL) {\r\n        return\r\n    }\r\n    const { cells: { data: cellData } } = getState()\r\n    const cell = cellData[action.payload.id]\r\n\r\n    if (cell.type === 'text') {\r\n        return\r\n    }    \r\n    clearTimeout(timer)\r\n    timer = setTimeout(() => {\r\n        console.log('timer expired')\r\n    }, 750)\r\n}\r\n"]},"metadata":{},"sourceType":"module"}