{"ast":null,"code":"import _objectSpread from\"C:/Users/User/Desktop/jbook/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import{jsx as _jsx}from\"react/jsx-runtime\";import _slicedToArray from\"C:/Users/User/Desktop/jbook/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import'./resizable.css';import{useEffect,useState}from'react';import{ResizableBox}from'react-resizable';var Resizable=function Resizable(_ref){var direction=_ref.direction,children=_ref.children;var resizableProps;var _useState=useState(window.innerHeight),_useState2=_slicedToArray(_useState,2),innerHeight=_useState2[0],setInnerHeight=_useState2[1];var _useState3=useState(window.innerWidth),_useState4=_slicedToArray(_useState3,2),innerWidth=_useState4[0],setInnerWidth=_useState4[1];var _useState5=useState(window.innerWidth*0.75),_useState6=_slicedToArray(_useState5,2),width=_useState6[0],setWidth=_useState6[1];useEffect(function(){var timer;var listener=function listener(){// set resize refresh rate\nif(timer){clearTimeout(timer);}setTimeout(function(){setInnerHeight(window.innerHeight);setInnerWidth(window.innerWidth);// resize code frame together with window\nif(window.innerWidth*0.75<width){setWidth(window.innerWidth*0.75);}},100);};window.addEventListener('resize',listener);return function(){window.removeEventListener('resize',listener);};},[]);if(direction==='horizontal'){resizableProps={className:'resize-horizontal',minConstraints:[innerWidth*0.2,Infinity],maxConstraints:[innerWidth*0.75,Infinity],height:Infinity,width:width,resizeHandles:['e'],onResizeStop:function onResizeStop(event,data){setWidth(data.size.width);}};}else{resizableProps={minConstraints:[Infinity,24],maxConstraints:[Infinity,innerHeight*0.9],height:300,width:Infinity,resizeHandles:['s']};}return/*#__PURE__*/_jsx(ResizableBox,_objectSpread(_objectSpread({},resizableProps),{},{children:children}));};export default Resizable;","map":{"version":3,"sources":["C:/Users/User/Desktop/jbook/src/components/resizable.tsx"],"names":["useEffect","useState","ResizableBox","Resizable","direction","children","resizableProps","window","innerHeight","setInnerHeight","innerWidth","setInnerWidth","width","setWidth","timer","listener","clearTimeout","setTimeout","addEventListener","removeEventListener","className","minConstraints","Infinity","maxConstraints","height","resizeHandles","onResizeStop","event","data","size"],"mappings":"8UAAA,MAAO,iBAAP,CACA,OAASA,SAAT,CAAoBC,QAApB,KAAoC,OAApC,CACA,OAASC,YAAT,KAAgD,iBAAhD,CAOA,GAAMC,CAAAA,SAAmC,CAAG,QAAtCA,CAAAA,SAAsC,MAA6B,IAA1BC,CAAAA,SAA0B,MAA1BA,SAA0B,CAAfC,QAAe,MAAfA,QAAe,CACrE,GAAIC,CAAAA,cAAJ,CADqE,cAE/BL,QAAQ,CAACM,MAAM,CAACC,WAAR,CAFuB,wCAE9DA,WAF8D,eAEjDC,cAFiD,8BAGjCR,QAAQ,CAACM,MAAM,CAACG,UAAR,CAHyB,yCAG9DA,UAH8D,eAGlDC,aAHkD,8BAI3CV,QAAQ,CAACM,MAAM,CAACG,UAAP,CAAoB,IAArB,CAJmC,yCAI9DE,KAJ8D,eAIvDC,QAJuD,eAMrEb,SAAS,CAAC,UAAM,CACZ,GAAIc,CAAAA,KAAJ,CACA,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,EAAM,CAEnB;AACA,GAAID,KAAJ,CAAW,CACPE,YAAY,CAACF,KAAD,CAAZ,CACH,CACDG,UAAU,CAAC,UAAM,CACbR,cAAc,CAACF,MAAM,CAACC,WAAR,CAAd,CACAG,aAAa,CAACJ,MAAM,CAACG,UAAR,CAAb,CACA;AACA,GAAIH,MAAM,CAACG,UAAP,CAAoB,IAApB,CAA2BE,KAA/B,CAAsC,CAClCC,QAAQ,CAACN,MAAM,CAACG,UAAP,CAAoB,IAArB,CAAR,CACH,CACJ,CAPS,CAOP,GAPO,CAAV,CAQH,CAdD,CAeAH,MAAM,CAACW,gBAAP,CAAwB,QAAxB,CAAkCH,QAAlC,EAEA,MAAO,WAAM,CACTR,MAAM,CAACY,mBAAP,CAA2B,QAA3B,CAAqCJ,QAArC,EACH,CAFD,CAGH,CAtBQ,CAsBN,EAtBM,CAAT,CAwBA,GAAIX,SAAS,GAAK,YAAlB,CAAgC,CAC5BE,cAAc,CAAG,CACbc,SAAS,CAAE,mBADE,CAEbC,cAAc,CAAE,CAACX,UAAU,CAAG,GAAd,CAAmBY,QAAnB,CAFH,CAGbC,cAAc,CAAE,CAACb,UAAU,CAAG,IAAd,CAAoBY,QAApB,CAHH,CAIbE,MAAM,CAAEF,QAJK,CAKbV,KAAK,CAAEA,KALM,CAMba,aAAa,CAAE,CAAC,GAAD,CANF,CAObC,YAAY,CAAE,sBAACC,KAAD,CAAQC,IAAR,CAAiB,CAC3Bf,QAAQ,CAACe,IAAI,CAACC,IAAL,CAAUjB,KAAX,CAAR,CACH,CATY,CAAjB,CAWH,CAZD,IAYO,CACHN,cAAc,CAAG,CACbe,cAAc,CAAE,CAACC,QAAD,CAAW,EAAX,CADH,CAEbC,cAAc,CAAE,CAACD,QAAD,CAAWd,WAAW,CAAG,GAAzB,CAFH,CAGbgB,MAAM,CAAE,GAHK,CAIbZ,KAAK,CAAEU,QAJM,CAKbG,aAAa,CAAE,CAAC,GAAD,CALF,CAAjB,CAOH,CACD,mBACI,KAAC,YAAD,gCAAkBnB,cAAlB,eACKD,QADL,GADJ,CAKH,CAxDD,CA0DA,cAAeF,CAAAA,SAAf","sourcesContent":["import './resizable.css'\r\nimport { useEffect, useState } from 'react'\r\nimport { ResizableBox, ResizableBoxProps } from 'react-resizable'\r\n\r\ninterface ResizableProps {\r\n    direction: 'horizontal' | 'vertical'\r\n\r\n}\r\n\r\nconst Resizable: React.FC<ResizableProps> = ({ direction, children }) => {\r\n    let resizableProps : ResizableBoxProps;\r\n    const [innerHeight, setInnerHeight] = useState(window.innerHeight)\r\n    const [innerWidth, setInnerWidth] = useState(window.innerWidth)\r\n    const [width, setWidth] = useState(window.innerWidth * 0.75)\r\n\r\n    useEffect(() => {\r\n        let timer: any\r\n        const listener = () => {\r\n\r\n            // set resize refresh rate\r\n            if (timer) {\r\n                clearTimeout(timer)\r\n            }\r\n            setTimeout(() => {\r\n                setInnerHeight(window.innerHeight)\r\n                setInnerWidth(window.innerWidth)\r\n                // resize code frame together with window\r\n                if (window.innerWidth * 0.75 < width) {\r\n                    setWidth(window.innerWidth * 0.75)\r\n                }\r\n            }, 100)\r\n        }\r\n        window.addEventListener('resize', listener)\r\n\r\n        return () => {\r\n            window.removeEventListener('resize', listener)\r\n        }\r\n    }, [])\r\n\r\n    if (direction === 'horizontal') {\r\n        resizableProps = {\r\n            className: 'resize-horizontal',\r\n            minConstraints: [innerWidth * 0.2, Infinity],\r\n            maxConstraints: [innerWidth * 0.75, Infinity],\r\n            height: Infinity,\r\n            width: width,\r\n            resizeHandles: ['e'],\r\n            onResizeStop: (event, data) => {\r\n                setWidth(data.size.width)\r\n            }\r\n        }\r\n    } else {\r\n        resizableProps = {\r\n            minConstraints: [Infinity, 24],\r\n            maxConstraints: [Infinity, innerHeight * 0.9],\r\n            height: 300,\r\n            width: Infinity,\r\n            resizeHandles: ['s']\r\n        }\r\n    }\r\n    return (\r\n        <ResizableBox {...resizableProps} >\r\n            {children}\r\n        </ResizableBox>\r\n    )\r\n}\r\n\r\nexport default Resizable"]},"metadata":{},"sourceType":"module"}